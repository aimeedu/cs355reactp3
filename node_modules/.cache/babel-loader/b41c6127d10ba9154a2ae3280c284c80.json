{"ast":null,"code":"var _jsxFileName = \"/Users/aimeedu/WebstormProjects/cs355reactp3/src/components/SearchEngine.js\";\nimport React, { Component } from 'react';\nimport { Button, Form, FormControl } from \"react-bootstrap\";\nimport './Components.css';\nimport Download from \"./Download\";\nimport axios from \"axios\";\n\nclass SearchEngine extends Component {\n  constructor(props) {\n    super(props);\n\n    this.search = async e => {\n      e.preventDefault();\n      const term = e.target.elements.userInput.value;\n      const username = e.target.elements.userInput.value;\n      this.setState({\n        term\n      }); // console.log(term);\n\n      /** send the term to back end */\n\n      axios.post('http://localhost:5000/custom', {\n        term\n      }).then(res => {\n        console.log(res.data); // console.log('Pass term to back end!');\n      });\n      const api_call = await fetch(\"http://localhost:5000/admin/\".concat(term));\n      const data = await api_call.json();\n      this.setState({\n        data: data\n      });\n      console.log(this.state.data); // axios.get('http://localhost:5000/admin', {params: {wordname: this.state.term}})\n      //     .then((res)=>{\n      //         console.log(res.data);\n      //         // console.log('Pass term to back end!');\n      //     })\n      // axios.get('http://localhost:5000/admin')\n      //     // pass term as /admin/term\n      //     .then((res)=>{\n      //         console.log(res.data);\n      //         // console.log('Pass term to back end!');\n      //     })\n    };\n\n    this.checkCase = () => {\n      this.setState({\n        caseInsensitive: !this.state.caseInsensitive\n      });\n      console.log(this.state.caseInsensitive);\n    };\n\n    this.checkMatch = () => {\n      this.setState({\n        partialMatch: !this.state.partialMatch\n      });\n      console.log(this.state.partialMatch);\n    };\n\n    this.state = {\n      caseInsensitive: false,\n      partialMatch: false,\n      term: null,\n      data: []\n    };\n  }\n  /** Here, we are using $text and $search MongoDB operators for find all documents in collection collectionName which contains at least one word from the specified find query.\n   partial search */\n\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"My Custom Search Engine\"), React.createElement(\"div\", {\n      className: \"checkbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"checkbox\",\n      name: \"case\",\n      onChange: this.checkCase,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), \" Case Insensitive \"), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"checkbox\",\n      name: \"match\",\n      onChange: this.checkMatch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), \" Allow Partial Match \")), React.createElement(Form, {\n      className: \"search\",\n      onSubmit: this.search,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(FormControl, {\n      className: \"mr-sm-1 searchBar\",\n      type: \"text\",\n      placeholder: \"Type a word to Search.\",\n      name: \"userInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), React.createElement(Button, {\n      id: \"searchBtn\",\n      variant: \"btn btn-light purple-btn\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Search\")), React.createElement(Download, {\n      data: this.state.data,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \" Search Result: \", this.state.term), \"/** when click search button pass the term to backend, insert into search table/ done query the page table. find all the entries with certain words. display the result download the result */\", React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, this.state.data.map((data, i) => {\n      return React.createElement(\"div\", {\n        key: i,\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"col-sm-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        \"data-index\": i,\n        className: \"checkbox\",\n        type: \"checkbox\",\n        name: \"check\",\n        onChange: this.checkBox,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, data.title), React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: data.url,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, data.url)), React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, data.description))));\n    })));\n  }\n\n}\n\nexport default SearchEngine;","map":{"version":3,"sources":["/Users/aimeedu/WebstormProjects/cs355reactp3/src/components/SearchEngine.js"],"names":["React","Component","Button","Form","FormControl","Download","axios","SearchEngine","constructor","props","search","e","preventDefault","term","target","elements","userInput","value","username","setState","post","then","res","console","log","data","api_call","fetch","json","state","checkCase","caseInsensitive","checkMatch","partialMatch","render","map","i","checkBox","title","url","description"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {Button, Form, FormControl} from \"react-bootstrap\";\nimport './Components.css';\nimport Download from \"./Download\";\nimport axios from \"axios\";\n\nclass SearchEngine extends Component {\n\n    constructor(props){\n        super(props);\n        this.state = {\n            caseInsensitive: false,\n            partialMatch: false,\n            term: null,\n            data:[]\n        }\n    }\n    /** Here, we are using $text and $search MongoDB operators for find all documents in collection collectionName which contains at least one word from the specified find query.\n     partial search */\n    search = async (e) => {\n        e.preventDefault();\n        const term = e.target.elements.userInput.value;\n        const username = e.target.elements.userInput.value;\n        this.setState({\n            term\n        })\n        // console.log(term);\n\n        /** send the term to back end */\n        axios.post('http://localhost:5000/custom', {term})\n            .then((res)=>{\n                console.log(res.data);\n                // console.log('Pass term to back end!');\n            });\n\n        const api_call = await fetch(`http://localhost:5000/admin/${term}`);\n        const data = await api_call.json();\n\n        this.setState({\n            data: data\n        })\n        console.log(this.state.data);\n\n        // axios.get('http://localhost:5000/admin', {params: {wordname: this.state.term}})\n        //     .then((res)=>{\n        //         console.log(res.data);\n        //         // console.log('Pass term to back end!');\n        //     })\n        // axios.get('http://localhost:5000/admin')\n        //     // pass term as /admin/term\n        //     .then((res)=>{\n        //         console.log(res.data);\n        //         // console.log('Pass term to back end!');\n        //     })\n    }\n\n    checkCase = () => {\n        this.setState({\n            caseInsensitive: !this.state.caseInsensitive,\n        })\n        console.log(this.state.caseInsensitive);\n    }\n\n    checkMatch = () => {\n        this.setState({\n            partialMatch: !this.state.partialMatch,\n        })\n        console.log(this.state.partialMatch);\n    }\n\n    render() {\n        return (\n            <div>\n                <h2>My Custom Search Engine</h2>\n\n                <div className=\"checkbox\">\n                    <label><input type=\"checkbox\" name=\"case\" onChange={this.checkCase}/> Case Insensitive </label>\n                    <label><input type=\"checkbox\" name=\"match\" onChange={this.checkMatch}/> Allow Partial Match </label>\n                </div>\n\n\n                <Form className=\"search\" onSubmit={this.search}>\n                    <FormControl className=\"mr-sm-1 searchBar\" type=\"text\" placeholder=\"Type a word to Search.\" name=\"userInput\"/>\n                    <Button id=\"searchBtn\" variant=\"btn btn-light purple-btn\" type=\"submit\">Search</Button>\n                </Form>\n\n                <Download data={this.state.data} />\n\n                <h3> Search Result: {this.state.term}</h3>\n\n                /** when click search button\n                    pass the term to backend, insert into search table/ done\n                    query the page table. find all the entries with certain words.\n                    display the result\n                    download the result\n                */\n                <div className=\"container\">\n                    {this.state.data.map((data, i) => {\n                        return (\n                            <div key={i} className=\"row\">\n                                <div className=\"col-sm-2\"></div>\n                                <div className=\"col-sm-8\">\n                                    <div className=\"box\">\n                                        <input data-index={i} className=\"checkbox\" type=\"checkbox\" name=\"check\" onChange={this.checkBox}/>\n                                        {/*<button className=\"btn btn-outline-primary\" data-index={i} onClick={this.delete}> Delete </button>*/}\n                                        <h4>{data.title}</h4>\n                                        <h5><a href={data.url}>{data.url}</a></h5>\n                                        <h5>{data.description}</h5>\n                                    </div>\n                                </div>\n                            </div>\n                        )\n                    })}\n                </div>\n\n            </div>\n        )\n    }\n}\n\nexport default SearchEngine;"]},"metadata":{},"sourceType":"module"}