{"ast":null,"code":"import _defineProperty from \"/Users/mohanadosman/WebstormProjects/CSCI355/cs355reactp3/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/mohanadosman/WebstormProjects/CSCI355/cs355reactp3/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState, useEffect } from 'react';\nexport const usePosition = () => {\n  const _useState = useState({}),\n        _useState2 = _slicedToArray(_useState, 2),\n        position = _useState2[0],\n        setPosition = _useState2[1];\n\n  const _useState3 = useState(null),\n        _useState4 = _slicedToArray(_useState3, 2),\n        error = _useState4[0],\n        setError = _useState4[1];\n\n  const onChange = ({\n    coords\n  }) => {\n    setPosition({\n      latitude: coords.latitude,\n      longitude: coords.longitude\n    });\n  };\n\n  const onError = error => {\n    setError(error.message);\n  };\n\n  useEffect(() => {\n    const geo = navigator.geolocation;\n\n    if (!geo) {\n      setError('Geolocation is not supported');\n      return;\n    }\n\n    let watcher = geo.watchPosition(onChange, onError);\n    return () => geo.clearWatch(watcher);\n  }, []);\n  return _objectSpread({}, position, {\n    error\n  });\n};","map":{"version":3,"sources":["/Users/mohanadosman/WebstormProjects/CSCI355/cs355reactp3/src/components/usePosition.js"],"names":["useState","useEffect","usePosition","position","setPosition","error","setError","onChange","coords","latitude","longitude","onError","message","geo","navigator","geolocation","watcher","watchPosition","clearWatch"],"mappings":";;;;;;;AAAA,SAAQA,QAAR,EAAkBC,SAAlB,QAAkC,OAAlC;AACA,OAAO,MAAMC,WAAW,GAAG,MAAM;AAAA,oBACGF,QAAQ,CAAC,EAAD,CADX;AAAA;AAAA,QACtBG,QADsB;AAAA,QACZC,WADY;;AAAA,qBAEHJ,QAAQ,CAAC,IAAD,CAFL;AAAA;AAAA,QAEtBK,KAFsB;AAAA,QAEfC,QAFe;;AAI7B,QAAMC,QAAQ,GAAG,CAAC;AAACC,IAAAA;AAAD,GAAD,KAAc;AAC3BJ,IAAAA,WAAW,CAAC;AACRK,MAAAA,QAAQ,EAAED,MAAM,CAACC,QADT;AAERC,MAAAA,SAAS,EAAEF,MAAM,CAACE;AAFV,KAAD,CAAX;AAIH,GALD;;AAMA,QAAMC,OAAO,GAAIN,KAAD,IAAW;AACvBC,IAAAA,QAAQ,CAACD,KAAK,CAACO,OAAP,CAAR;AACH,GAFD;;AAGAX,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMY,GAAG,GAAGC,SAAS,CAACC,WAAtB;;AACA,QAAI,CAACF,GAAL,EAAU;AACNP,MAAAA,QAAQ,CAAC,8BAAD,CAAR;AACA;AACH;;AACD,QAAIU,OAAO,GAAGH,GAAG,CAACI,aAAJ,CAAkBV,QAAlB,EAA4BI,OAA5B,CAAd;AACA,WAAO,MAAME,GAAG,CAACK,UAAJ,CAAeF,OAAf,CAAb;AACH,GARQ,EAQN,EARM,CAAT;AASA,2BAAWb,QAAX;AAAqBE,IAAAA;AAArB;AACH,CAvBM","sourcesContent":["import {useState, useEffect} from 'react';\nexport const usePosition = () => {\n    const [position, setPosition] = useState({});\n    const [error, setError] = useState(null);\n\n    const onChange = ({coords}) => {\n        setPosition({\n            latitude: coords.latitude,\n            longitude: coords.longitude,\n        });\n    };\n    const onError = (error) => {\n        setError(error.message);\n    };\n    useEffect(() => {\n        const geo = navigator.geolocation;\n        if (!geo) {\n            setError('Geolocation is not supported');\n            return;\n        }\n        let watcher = geo.watchPosition(onChange, onError);\n        return () => geo.clearWatch(watcher);\n    }, []);\n    return {...position, error};\n}"]},"metadata":{},"sourceType":"module"}