{"ast":null,"code":"var _jsxFileName = \"/Users/aimeedu/WebstormProjects/cs355reactp3/src/components/SearchGoogle.js\";\nimport React, { Component } from 'react'; // import '../App.css';\n\nimport './Components.css';\nimport Download from \"./Download\";\nimport { Button, Form, FormControl } from \"react-bootstrap\";\nconst API_KEY = \"AIzaSyDzFrh_sw6E2iClTjBjWCGLApEW_d9xXZU\";\n\nclass SearchGoogle extends Component {\n  constructor(props) {\n    super(props);\n\n    this.search = async e => {\n      e.preventDefault();\n      const userInput = e.target.elements.userInput.value;\n\n      if (userInput) {\n        const req = await fetch(\"https://www.googleapis.com/customsearch/v1?key=\".concat(API_KEY, \"&cx=010154474853921520295:rr3dcyakuje&q=\").concat(userInput)); // const data = await req.json();\n\n        const data = await req.json();\n        const temp = data.items; // temp.forEach(function (object) {\n        //     object.isChecked = false;\n        // });\n\n        let final = [];\n\n        for (let i = 0; i < temp.length; i++) {\n          final.push({\n            title: temp[i].title,\n            url: temp[i].link,\n            description: temp[i].snippet,\n            isChecked: false\n          });\n        }\n\n        this.setState({\n          data: final // checked: Array(data.items.length).fill(false),\n\n        });\n        console.log(final); // console.log(this.state.data);\n        // console.log(this.state.checked);\n      }\n    };\n\n    this.delete = event => {\n      const index = event.target.dataset.index;\n      this.setState(state => {\n        //make a copy of the data in the state.\n        const data = [...state.data];\n        data.splice(index, 1);\n        return {\n          data: data\n        };\n      });\n    };\n\n    this.checkBox = event => {\n      const index = event.target.dataset.index;\n      this.setState(state => {\n        const data = [...state.data];\n        const object = state.data[index];\n        object.isChecked = !object.isChecked;\n        data.splice(index, 1, object);\n        return {\n          data\n        };\n      });\n      console.log(this.state.data); // this.setState({\n      //     data\n      // })\n    };\n\n    this.state = {\n      data: []\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"level1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Google Custom Search API\"), React.createElement(Form, {\n      className: \"search\",\n      onSubmit: this.search,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(FormControl, {\n      className: \"mr-sm-1 searchBar\",\n      type: \"text\",\n      placeholder: \"Google\",\n      name: \"userInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(Button, {\n      id: \"searchBtn\",\n      variant: \"btn btn-light purple-btn\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Search\")), React.createElement(Download, {\n      data: this.state.data,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, this.state.data.map((data, i) => {\n      return React.createElement(\"div\", {\n        key: i,\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"col-sm-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        \"data-index\": i,\n        className: \"checkbox\",\n        type: \"checkbox\",\n        name: \"check\",\n        onChange: this.checkBox,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }), React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, data.title), React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: data.url,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, data.url)), React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, data.description))));\n    })));\n  }\n\n}\n\nexport default SearchGoogle;","map":{"version":3,"sources":["/Users/aimeedu/WebstormProjects/cs355reactp3/src/components/SearchGoogle.js"],"names":["React","Component","Download","Button","Form","FormControl","API_KEY","SearchGoogle","constructor","props","search","e","preventDefault","userInput","target","elements","value","req","fetch","data","json","temp","items","final","i","length","push","title","url","link","description","snippet","isChecked","setState","console","log","delete","event","index","dataset","state","splice","checkBox","object","render","map"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\n// import '../App.css';\nimport './Components.css';\nimport Download from \"./Download\";\nimport {Button, Form, FormControl} from \"react-bootstrap\";\n\nconst API_KEY = \"AIzaSyDzFrh_sw6E2iClTjBjWCGLApEW_d9xXZU\";\n\nclass SearchGoogle extends Component {\n\n    constructor(props){\n        super(props);\n        this.state = {\n            data: [],\n        }\n    }\n\n    search = async (e) => {\n        e.preventDefault();\n        const userInput = e.target.elements.userInput.value;\n        if(userInput){\n            const req = await fetch(`https://www.googleapis.com/customsearch/v1?key=${API_KEY}&cx=010154474853921520295:rr3dcyakuje&q=${userInput}`)\n            // const data = await req.json();\n            const data = await req.json();\n            const temp = data.items;\n\n            // temp.forEach(function (object) {\n            //     object.isChecked = false;\n            // });\n\n            let final = [];\n            for (let i = 0; i<temp.length; i++){\n                final.push({\n                    title: temp[i].title,\n                    url:temp[i].link,\n                    description:temp[i].snippet,\n                    isChecked: false,\n                });\n            }\n\n            this.setState({\n                data: final,\n                // checked: Array(data.items.length).fill(false),\n            })\n\n            console.log(final);\n            // console.log(this.state.data);\n            // console.log(this.state.checked);\n        }\n    }\n\n    delete = (event) => {\n        const index = event.target.dataset.index;\n        this.setState(state => {\n            //make a copy of the data in the state.\n            const data = [...state.data]\n            data.splice(index, 1);\n            return{\n                data: data\n            }\n        })\n    }\n\n    // a controlled form handles all form changes via state, which is a very React way of doing things.\n    checkBox = (event) => {\n\n        const index = event.target.dataset.index;\n\n        this.setState(state => {\n            const data = [...state.data];\n            const object = state.data[index];\n            object.isChecked = !object.isChecked;\n            data.splice(index, 1, object);\n            return {\n                data\n            }\n        })\n\n        console.log(this.state.data);\n        // this.setState({\n        //     data\n        // })\n    }\n\n    render() {\n        return (\n            <div className=\"level1\">\n\n                <h2>Google Custom Search API</h2>\n                {/*<h3 id=\"searchRes\">You have {this.state.data.length} search results.</h3>*/}\n\n                {/*<form inline className=\"search\" onSubmit={this.search}>*/}\n                {/*    <input className=\"form-control\" type=\"text\" placeholder=\"Google\" name=\"userInput\" />*/}\n                {/*    <button className=\"btn btn-light\" type=\"submit\"> Search </button>*/}\n                {/*</form>*/}\n\n                <Form className=\"search\" onSubmit={this.search}>\n                    <FormControl className=\"mr-sm-1 searchBar\" type=\"text\" placeholder=\"Google\" name=\"userInput\"/>\n                    <Button id=\"searchBtn\" variant=\"btn btn-light purple-btn\" type=\"submit\">Search</Button>\n                </Form>\n                {/*<form className=\"search\" onSubmit={this.search}>*/}\n                {/*    <input className=\"mr-sm-2 searchBar\" type=\"text\" placeholder=\"Google\" name=\"userInput\"/>*/}\n                {/*    <Button variant=\"btn-light purple-btn\" type=\"submit\">Search</Button>*/}\n                {/*</form>*/}\n\n                {/*passing data as a property to child class*/}\n                <Download data={this.state.data} />\n\n                <div className=\"container\">\n                        {this.state.data.map((data, i) => {\n                            return (\n                                <div key={i} className=\"row\">\n                                    <div className=\"col-sm-2\"></div>\n                                    <div className=\"col-sm-8\">\n                                        <div className=\"box\">\n                                            <input data-index={i} className=\"checkbox\" type=\"checkbox\" name=\"check\" onChange={this.checkBox}/>\n                                            {/*<button className=\"btn btn-outline-primary\" data-index={i} onClick={this.delete}> Delete </button>*/}\n                                            <h4>{data.title}</h4>\n                                            <h5><a href={data.url}>{data.url}</a></h5>\n                                            <h5>{data.description}</h5>\n                                        </div>\n                                    </div>\n                                </div>\n                            )})}\n\n                </div>\n            </div>\n\n        );\n    }\n}\n\nexport default SearchGoogle;"]},"metadata":{},"sourceType":"module"}